<html>
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Audio-samples</title>
      <link rel="stylesheet" type="text/css" href="stylesheet.css"/>
      <link rel="stylesheet"
href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
      <!-- <link rel="shortcut icon" href="../../images/taco.png"> -->
      <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      jax: ["input/TeX", "output/HTML-CSS"],
      extensions: ["tex2jax.js"],
      "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], scale: 77},
      tex2jax: { inlineMath: [ ["$", "$"], ["\\(","\\)"] ], displayMath: [ ["$$","$$"], ["\\[", "\\]"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno" },
      TeX: { noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "50%" } } },
      messageStyle: "none"
    });
    </script>    
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js"></script>
      <script>
         function play(path) {{
           var player = document.getElementById('player');
           player.src = path;
           player.play();
         }}
         function isInternetExplorer() {
            ua = navigator.userAgent;
            /* MSIE used to detect old browsers and Trident used to newer ones*/
            return ua.indexOf("MSIE ") > -1 || ua.indexOf("Trident/") > -1;
          }

          /* Define the Animation class */
          function Animation(frames, img_id, slider_id, interval, loop_select_id){
            this.img_id = img_id;
            this.slider_id = slider_id;
            this.loop_select_id = loop_select_id;
            this.interval = interval;
            this.current_frame = 0;
            this.direction = 0;
            this.timer = null;
            this.frames = new Array(frames.length);

            for (var i=0; i<frames.length; i++)
            {
             this.frames[i] = new Image();
             this.frames[i].src = frames[i];
            }
            var slider = document.getElementById(this.slider_id);
            slider.max = this.frames.length - 1;
            if (isInternetExplorer()) {
                // switch from oninput to onchange because IE <= 11 does not conform
                // with W3C specification. It ignores oninput and onchange behaves
                // like oninput. In contrast, Mircosoft Edge behaves correctly.
                slider.setAttribute('onchange', slider.getAttribute('oninput'));
                slider.setAttribute('oninput', null);
            }
            this.set_frame(this.current_frame);
          }

          Animation.prototype.get_loop_state = function(){
            return 0;
          }

          Animation.prototype.set_frame = function(frame){
            this.current_frame = frame;
            document.getElementById(this.img_id).src =
                    this.frames[this.current_frame].src;
            document.getElementById(this.slider_id).value = this.current_frame;
          }

          Animation.prototype.next_frame = function()
          {
            this.set_frame(Math.min(this.frames.length - 1, this.current_frame + 1));
          }

          Animation.prototype.previous_frame = function()
          {
            this.set_frame(Math.max(0, this.current_frame - 1));
          }

          Animation.prototype.first_frame = function()
          {
            this.set_frame(0);
          }

          Animation.prototype.last_frame = function()
          {
            this.set_frame(this.frames.length - 1);
          }

          Animation.prototype.slower = function()
          {
            this.interval /= 0.7;
            if(this.direction > 0){this.play_animation();}
            else if(this.direction < 0){this.reverse_animation();}
          }

          Animation.prototype.faster = function()
          {
            this.interval *= 0.7;
            if(this.direction > 0){this.play_animation();}
            else if(this.direction < 0){this.reverse_animation();}
          }

          Animation.prototype.anim_step_forward = function()
          {
            this.current_frame += 1;
            if(this.current_frame < this.frames.length){
              this.set_frame(this.current_frame);
            }else{
              var loop_state = this.get_loop_state();
              if(loop_state == "loop"){
                this.first_frame();
              }else if(loop_state == "reflect"){
                this.last_frame();
                this.reverse_animation();
              }else{
                this.pause_animation();
                this.last_frame();
              }
            }
          }

          Animation.prototype.anim_step_reverse = function()
          {
            this.current_frame -= 1;
            if(this.current_frame >= 0){
              this.set_frame(this.current_frame);
            }else{
              var loop_state = this.get_loop_state();
              if(loop_state == "loop"){
                this.last_frame();
              }else if(loop_state == "reflect"){
                this.first_frame();
                this.play_animation();
              }else{
                this.pause_animation();
                this.first_frame();
              }
            }
          }

          Animation.prototype.pause_animation = function()
          {
            this.direction = 0;
            if (this.timer){
              clearInterval(this.timer);
              this.timer = null;
            }
          }

          Animation.prototype.play_animation = function()
          {
            this.pause_animation();
            this.direction = 1;
            var t = this;
            if (!this.timer) this.timer = setInterval(function() {
                t.anim_step_forward();
            }, this.interval);
          }

          Animation.prototype.reverse_animation = function()
          {
            this.pause_animation();
            this.direction = -1;
            var t = this;
            if (!this.timer) this.timer = setInterval(function() {
                t.anim_step_reverse();
            }, this.interval);
          }
      </script>
      <style>
          .animation {
              display: inline-block;
              text-align: center;
          }
          input[type=range].anim-slider {
              width: 374px;
              margin-left: auto;
              margin-right: auto;
          }
          .anim-buttons {
              margin: 8px 0px;
          }
          .anim-buttons button {
              padding: 0;
              width: 36px;
          }
          .anim-state label {
              margin-right: 8px;
          }
          .anim-state input {
              margin: 0;
              vertical-align: middle;
          }
         .audio-cell {
         /* Center audio widgets in the table cell. */
         text-align: center;
         padding-bottom: 1px;
         padding-top: 1px;
         }
         .audio-cell-padded {
         text-align: center;
         padding-bottom: 10px;
         padding-top: 10px;
         }
         .audio-header {
         /* Don't wrap header text. */
         white-space: nowrap;
         /* Some breaking space between headers for readability. */
         padding-right: 5px;
         padding-left: 5px;
         }
         .reference-cell {
         /* For uniformity and to wrap long reference text, limit the reference cell's width. */
         width: 25%;
         padding-top: 20px;
         padding-bottom: 20px;
         }
         .sample audio {
         vertical-align: middle;
         padding-left: 3px;
         padding-right: 3px;
         }
         .round-button {
         box-sizing: border-box;
         display:block;
         width:30px;
         height:30px;
         padding-top: 8px;
         padding-left: 3px;
         line-height: 6px;
         border: 1.2px solid #000;
         border-radius: 50%;
         color: #000;
         text-align:center;
         background-color: rgba(0,0,0,0.00);
         font-size:6px;
         box-shadow: 0px 0px 2px rgba(0,0,0,1);
         transition: all 0.2s ease;
         }
         .round-button:hover {
         background-color: rgba(0,0,0,0.0);
         box-shadow: 0px 0px 4px rgba(0,0,0,1);
         }
         .round-button:active {
         background-color: rgba(0,0,0,0.01);
         box-shadow: 0px 0px 1px rgba(0,0,0,1);
         }
      </style>
   </head>

 <body>
     <div class="main">
       <article>
         <header>
            <h1 align="center">Automatic Prosody Annotation with Pre-Trained Text-Speech Model</h1>
   <p style="line-height:100%", align="center"> <b>Authors: </b> Ziqian Dai, Jianwei Yu, Yan Wang, Nuo Chen, Yanyao Bian, Guangzhi Li,Deng Cai, Dong Yu</p>
         </header>
      </article>
      <div align="justify">
      <blockquote>
      <p><b>Abstract:</b> Prosodic boundary plays an important role in text-to-speech synthesis (TTS) in terms of naturalness and readability. However, the acquisition of prosodic boundary labels relies on manual annotation, which is costly and time-consuming. In this paper, we propose to automatically extract prosodic boundary labels from text-audio data via a neural text-speech model with pre-trained audio encoders. This model is pre-trained on text and speech data separately and jointly fine-tuned on TTS data in a triplet format: \{speech, text, prosody\}. The experimental results on both automatic evaluation and human evaluation demonstrate that: 1) the proposed text-speech prosody annotation framework significantly outperforms text-only baselines;  2) the quality of automatic prosodic boundary annotations is comparable to human annotations; 3) TTS systems trained with model-annotated boundaries are slightly better than systems that use manual ones. </p>
      </blockquote>
      <h3>
        Architecture of the proposed text-speech automatic prosody annotation model:
      </h3>
      <p>
       The proposed framework consists of three main components: a text encoder, an audio encoder, and a multi-modal fusion decoder.
      <\p>
      <figure>
    <p style="text-align:center"><img src="./framework.png"  alt="AVSE" width=600px/></p>
      </figure>
  </body>
</html>
        
   
 

<!-- <!DOCTYPE html>

<div style="border: none; width: 1000px; margin: 0 auto;">
<body>
    <h2 align="center">Automatic Prosody Annotation with Pre-Trained Text-Speech Model</h2>
   <p style="line-height:100%", align="center"> <b>Authors: </b> Ziqian Dai, Jianwei Yu, Yan Wang, Nuo Chen, Yanyao Bian, Guangzhi Li,Deng Cai, Dong Yu</p>

  
The primary motivation of this work is to reduce the annotation cost of TTS system construction. Therefore, whether the automatic annotation is sufficient as an alternative to human annotation in TTS system training is worth studying. 
We take the DurAIN TTS as our test-bed and conduct crowd-sourced MOS tests to compare TTS systems trained with automatic prosody annotations, manual annotations, and without prosody annotations
For all TTS systems, we adopt the same text and prosody content in the original test set as inputs and randomly shuffle the order of the utterances to exclude other interference factors, only examining the audio prosody.  Note that each input used in the MOS test contains at least one PW or IPH prosodic boundary with at least 12 Chinese characters. For the system trained without prosodic boundary, the prosodic boundary in the input text will be omitted. Each audio sample is rated by 24 testers, who are asked to evaluate the prosody naturalness of the synthesized speech on a five-point scale, with the lowest and highest scores being 1 (“Bad”) and 5 (“Excellent”).

    The MOS results are shown in the following table.
<figure>
    <p style="text-align:center"><img src="./mos.png"  alt="AVSE" height=100px width=200px/></p>
<!--       <figcaption style="vertical-align:middle"> <b>Figure 1: </b> Illurstration of the audio-visual separation model</figcaption> -->
  </figure>
Here are part of the speech for MOS test:
   
<!--   ======================================================================================     -->
    <table border="1" align="center">
    <tr>
      <td>No.</td>
      <td>Human recorded</td>
      <td>Automatic prosody</td>
      <td>Manual prosody </td>
      <td>No prosody</td> 
<!--       <td>Text</td> -->
    </tr>
<!--     m5dB -->
    <tr>
      <td>1</td>
      <td>
         <audio controls>
           <source src="ref/01001010012%25ref.wav">
         </audio>
      </td>
      <td>
         <audio controls>
           <source src="prediction/01001010012autoAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001010012manuAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001010012manuNPros.wav">
         </audio>
      </td>
     </tr>
       
     <tr>
       <td>2</td>
      <td>
         <audio controls>
           <source src="ref/01001010267%25ref.wav">
         </audio>
      </td>
      <td>
         <audio controls>
           <source src="prediction/01001010267autoAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001010267manuAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001010267manuNPros.wav">
         </audio>
      </td>
     </tr>
       
     <tr>
       <td>3</td>
      <td>
         <audio controls>
           <source src="ref/01001010281%25ref.wav">
         </audio>
      </td>
      <td>
         <audio controls>
           <source src="prediction/01001010281autoAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001010281manuAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001010281manuNPros.wav">
         </audio>
      </td>
     </tr>
       
     <tr>
       <td>4</td>
      <td>
         <audio controls>
           <source src="ref/01001010443%25ref.wav">
         </audio>
      </td>
      <td>
         <audio controls>
           <source src="prediction/01001010443autoAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001010443manuAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001010443manuNPros.wav">
         </audio>
      </td>
      </tr>
       
      <tr>
       <td>5</td>
      <td>
         <audio controls>
           <source src="ref/01001010453%25ref.wav">
         </audio>
      </td>
      <td>
         <audio controls>
           <source src="prediction/01001010453autoAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001010453manuAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001010453manuNPros.wav">
         </audio>
      </td>
      </tr>
       
      <tr>
       <td>6</td>
      <td>
         <audio controls>
           <source src="ref/01001010462%25ref.wav">
         </audio>
      </td>
      <td>
         <audio controls>
           <source src="prediction/01001010462autoAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001010462manuAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001010462manuNPros.wav">
         </audio>
      </td>
    </tr>
       
   <tr>
      <td>7</td>
      <td>
         <audio controls>
           <source src="ref/01001010480%25ref.wav">
         </audio>
      </td>
      <td>
         <audio controls>
           <source src="prediction/01001010480autoAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001010480manuAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001010480manuNPros.wav">
         </audio>
      </td>
     </tr>
       
     <tr>
       <td>8</td>
      <td>
         <audio controls>
           <source src="ref/01001020033%25ref.wav">
         </audio>
      </td>
      <td>
         <audio controls>
           <source src="prediction/01001020033autoAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001020033manuAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001020033manuNPros.wav">
         </audio>
      </td>
     </tr>
       
     <tr>
       <td>9</td>
      <td>
         <audio controls>
           <source src="ref/01001020067%25ref.wav">
         </audio>
      </td>
      <td>
         <audio controls>
           <source src="prediction/01001020067autoAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001020067manuAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001020067manuNPros.wav">
         </audio>
      </td>
     </tr>
       
     <tr>
       <td>10</td>
      <td>
         <audio controls>
           <source src="ref/01001020245%25ref.wav">
         </audio>
      </td>
      <td>
         <audio controls>
           <source src="prediction/01001020245autoAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001020245manuAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001020245manuNPros.wav">
         </audio>
      </td>
      </tr>
       
      <tr>
       <td>11</td>
      <td>
         <audio controls>
           <source src="ref/01001020255%25ref.wav">
         </audio>
      </td>
      <td>
         <audio controls>
           <source src="prediction/01001020255autoAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001020255manuAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001020255manuNPros.wav">
         </audio>
      </td>
      </tr>
       
      <tr>
       <td>12</td>
      <td>
         <audio controls>
           <source src="ref/01001020308%25ref.wav">
         </audio>
      </td>
      <td>
         <audio controls>
           <source src="prediction/01001020308autoAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001020308manuAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001020308manuNPros.wav">
         </audio>
      </td>
    </tr>
       
       
       <tr>
      <td>13</td>
      <td>
         <audio controls>
           <source src="ref/01001020321%25ref.wav">
         </audio>
      </td>
      <td>
         <audio controls>
           <source src="prediction/01001020321autoAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001020321manuAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001020321manuNPros.wav">
         </audio>
      </td>
     </tr>
       
     <tr>
       <td>14</td>
      <td>
         <audio controls>
           <source src="ref/01001020340%25ref.wav">
         </audio>
      </td>
      <td>
         <audio controls>
           <source src="prediction/01001020340autoAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001020340manuAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001020340manuNPros.wav">
         </audio>
      </td>
     </tr>
       
     <tr>
       <td>15</td>
      <td>
         <audio controls>
           <source src="ref/01001020430%25ref.wav">
         </audio>
      </td>
      <td>
         <audio controls>
           <source src="prediction/01001020430autoAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001020430manuAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001020430manuNPros.wav">
         </audio>
      </td>
     </tr>
       
     <tr>
       <td>16</td>
      <td>
         <audio controls>
           <source src="ref/01001020435%25ref.wav">
         </audio>
      </td>
      <td>
         <audio controls>
           <source src="prediction/01001020435autoAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001020435manuAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001020435manuNPros.wav">
         </audio>
      </td>
      </tr>
       
      <tr>
       <td>17</td>
      <td>
         <audio controls>
           <source src="ref/01001020540%25ref.wav">
         </audio>
      </td>
      <td>
         <audio controls>
           <source src="prediction/01001020540autoAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001020540manuAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001020540manuNPros.wav">
         </audio>
      </td>
      </tr>
       
      <tr>
       <td>18</td>
      <td>
         <audio controls>
           <source src="ref/01001030009%25ref.wav">
         </audio>
      </td>
      <td>
         <audio controls>
           <source src="prediction/01001030009autoAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001030009manuAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001030009manuNPros.wav">
         </audio>
      </td>
    </tr>
       
    <tr>
       <td>19</td>
      <td>
         <audio controls>
           <source src="ref/01001030380%25ref.wav">
         </audio>
      </td>
      <td>
         <audio controls>
           <source src="prediction/01001030380autoAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001030380manuAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001030380manuNPros.wav">
         </audio>
      </td>
    </tr>
       
    <tr>
       <td>20</td>
      <td>
         <audio controls>
           <source src="ref/01001030388%25ref.wav">
         </audio>
      </td>
      <td>
         <audio controls>
           <source src="prediction/01001030388autoAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001030388manuAutoKing.wav">
         </audio>
      </td>
       <td>
         <audio controls>
           <source src="prediction/01001030388manuNPros.wav">
         </audio>
      </td>
    </tr>
       
    
   </table>
<!--   ======================================================================================     -->      
   
   
   
   
   
   
   
   
</div>
</body>
</html>
 -->
